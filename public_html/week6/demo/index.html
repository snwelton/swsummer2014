<!DOCTYPE html>
<html>
	<head>
		<title> Week 6 Demo </title>
		<style>
			.contentBox {
				width: 300px;
				margin: 1em;
				margin-left: auto;
				margin-right: auto;
			}
		</style>
	</head>
<body>

	<div id="content" class="contentBox"></div>

	<input type="button" id="showResults" value="Show Results" />

        <script type="text/javascript">
            //http://canvas.site40.net/demopage.html
			
		// XML HTTP Request          
               
		var xhr = new XMLHttpRequest();  //AJAX request object   
		var content = document.getElementById('content');  
		var showResults = document.getElementById('showResults');  
		var url = "demo.php?page=";     // pass what page you want
                var step = 1;
		
                showResults.addEventListener('click',makeAJAXCall);     // click event that makes an request to the server
		
		function callback() {
			var response = xhr.responseText;  // xhr  = AJAX object
						
			content.innerHTML += response;
                        step++;
                        
                       

		}
		
		
		xhr.onreadystatechange = function() {   // makes a request for the pages you want
								
		   if (xhr.readyState==4 && xhr.status==200) {      // basic code that needs to be defined/ overwritten
			callback();         // when something is finished the server will callback
		   } 
		};  
		
		
                function makeAJAXCall(){
                    if ( step < 5 ) {             
                        //demo.php?page=4
                        xhr.open('GET', url+step, true);  // make an open GET request. AJAX will make an open connection while not being on the requested site.
                        xhr.send();   
                    }
                }
		
		
                
            // use an AJAX call in the background to keep memory low on a single page web site. 
            // example when you search pics, scroll down and new pics load. 

		
		
		var statusCodes = {
            100: "Continue",
            101: "Switching Protocols",
            102: "Processing",
            200: "OK",
            201: "Created",
            202: "Accepted",
            203: "Non-Authoritative Information",
            204: "No Content",
            205: "Reset Content",
            206: "Partial Content",
            207: "Multi-Status",
            208: "Already Reported",
            226: "IM Used",
            300: "Multiple Choices",
            301: "Moved Permanently",
            302: "Found",
            303: "See Other",
            304: "Not Modified",
            305: "Use Proxy",
            306: "Reserved",
            307: "Temporary Redirect",
            308: "Permanent Redirect",
            400: "Bad Request",
            401: "Unauthorized",
            402: "Payment Required",
            403: "Forbidden",
            404: "Not Found",
            405: "Method Not Allowed",
            406: "Not Acceptable",
            407: "Proxy Authentication Required",
            408: "Request Timeout",
            409: "Conflict",
            410: "Gone",
            411: "Length Required",
            412: "Precondition Failed",
            413: "Request Entity Too Large",
            414: "Request-URI Too Long",
            415: "Unsupported Media Type",
            416: "Requested Range Not Satisfiable",
            417: "Expectation Failed",
            422: "Unprocessable Entity",
            423: "Locked",
            424: "Failed Dependency",
            425: "Unassigned",
            426: "Upgrade Required",
            427: "Unassigned",
            428: "Precondition Required",
            429: "Too Many Requests",
            430: "Unassigned",
            431: "Request Header Fields Too Large",
            500: "Internal Server Error",
            501: "Not Implemented",
            502: "Bad Gateway",
            503: "Service Unavailable",
            504: "Gateway Timeout",
            505: "HTTP Version Not Supported",
            506: "Variant Also Negotiates (Experimental)",
            507: "Insufficient Storage",
            508: "Loop Detected",
            509: "Unassigned",
            510: "Not Extended",
            511: "Network Authentication Required"
        };
		
		 

		
		
	</script>
</body>
</html>
        